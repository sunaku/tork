<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="md2man 3.0.0 https://github.com/sunaku/md2man" />
  <title>tork-engine(1) &mdash; wraps tork-master(1) with bookkeeping</title>
  <link rel="stylesheet" href="../style.css"/>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body><div class="navbar"><div class="navbar-inner"><span class="brand"><a href="../index.html#man1">man1</a>/tork-engine.1</span></div></div><div class="container-fluid"><h1 id="tork-engine-1-2014-06-28-19-8-1"><a name="tork-engine-1-2014-06-28-19-8-1" href="#tork-engine-1-2014-06-28-19-8-1" class="md2man-permalink" title="permalink"></a><span class="md2man-title">TORK-ENGINE</span> <span class="md2man-section">1</span> <span class="md2man-date">2014-06-28</span> <span class="md2man-source">19.8.1</span></h1><h2 id="name"><a name="name" href="#name" class="md2man-permalink" title="permalink"></a>NAME</h2><p>tork-engine - wraps <a class="md2man-reference" href="../man1/tork-master.1.html">tork-master(1)</a> with bookkeeping</p><h2 id="synopsis"><a name="synopsis" href="#synopsis" class="md2man-permalink" title="permalink"></a>SYNOPSIS</h2><p><code>tork-engine</code> [<em>OPTION</em>]...</p><h2 id="description"><a name="description" href="#description" class="md2man-permalink" title="permalink"></a>DESCRIPTION</h2><p>This program uses <a class="md2man-reference" href="../man1/tork-master.1.html">tork-master(1)</a> to run tests and keeps track of the results.</p><p>This program can be controlled remotely by multiple <a class="md2man-reference" href="../man1/tork-remote.1.html">tork-remote(1)</a> instances.</p><h3 id="input"><a name="input" href="#input" class="md2man-permalink" title="permalink"></a>Input</h3><p>This program reads the following commands, which are single-line JSON arrays,
from stdin and then performs the associated actions.  For lines read from
stdin that are single-line JSON arrays, it splits each of them into an array
of words, using the same word-splitting algorithm as <a class="md2man-reference">sh(1)</a>, before processing
them.  For example, the line <code>a &quot;b c&quot;</code> is split into the <code>[&quot;a&quot;, &quot;b c&quot;]</code> array.</p><dl><dt><code>[&quot;reabsorb_overhead&quot;]</code></dt><dd>Stops any test files that are currently running, reabsorbs the test
execution overhead, and then re-runs those stopped test files.</dd></dl><dl><dt><code>[&quot;run_test_file&quot;</code>, <em>test_file</em><code>,</code> <em>line_numbers</em>...<code>]</code></dt><dd>Runs tests that correspond to the given sequence of <em>line_numbers</em> in the
given <em>test_file</em>.  If no <em>line_numbers</em> are given, then only those lines
that have changed since the last run of <em>test_file</em> will be substituted.
If any <em>line_numbers</em> are zero, then the entire <em>test_file</em> will be run.</dd></dl><dl><dt><code>[&quot;run_test_files&quot;</code>, <em>test_files_with_optional_line_numbers</em><code>]</code></dt><dd>Calls the <code>run_test_file</code> command once for each item in the given array.</dd></dl><dl><dt><code>[&quot;stop_running_test_files&quot;</code>, <em>signal</em><code>]</code></dt><dd>Stops test files that are currently running by sending the given <em>signal</em>
(optional; defaults to &quot;SIGTERM&quot;) to their respective worker processes.</dd></dl><dl><dt><code>[&quot;rerun_passed_test_files&quot;]</code></dt><dd>Runs all test files that have passed during their most recent run.</dd></dl><dl><dt><code>[&quot;rerun_failed_test_files&quot;]</code></dt><dd>Runs all test files that have failed during their most recent run.</dd></dl><dl><dt><code>[&quot;quit&quot;]</code></dt><dd>Stops all tests that are currently running and exits.</dd></dl><h3 id="output"><a name="output" href="#output" class="md2man-permalink" title="permalink"></a>Output</h3><p>This program prints the following messages, which are single-line JSON arrays,
to stdout.</p><dl><dt><code>[&quot;idle&quot;]</code></dt><dd>All tests have finished running and no tests are queued for running either.</dd></dl><dl><dt><code>[&quot;pass_now_fail&quot;,</code> <em>test_file</em><code>,</code> <em>message</em><code>]</code></dt><dd>A previously passing <em>test_file</em> has now failed.  See <em>message</em> for details.</dd></dl><dl><dt><code>[&quot;fail_now_pass&quot;,</code> <em>test_file</em><code>,</code> <em>message</em><code>]</code></dt><dd>A previously failing <em>test_file</em> has now passed.  See <em>message</em> for details.</dd></dl><dl><dt><em>...</em></dt><dd>Messages from <a class="md2man-reference" href="../man1/tork-master.1.html">tork-master(1)</a> are also reproduced here.</dd></dl><h2 id="options"><a name="options" href="#options" class="md2man-permalink" title="permalink"></a>OPTIONS</h2><dl><dt><code>-h</code>, <code>--help</code></dt><dd>Show this help manual.</dd></dl><h2 id="files"><a name="files" href="#files" class="md2man-permalink" title="permalink"></a>FILES</h2><dl><dt><em>.tork/config.rb</em></dt><dd>Optional Ruby script that is loaded inside the driver process on startup.
It can read and change the <code>ENV[&#39;TORK_CONFIGS&#39;]</code> environment variable.</dd></dl><dl><dt><em>.tork/engine.rb</em></dt><dd>Optional Ruby script that is loaded inside the master process on startup.</dd></dl><h2 id="environment"><a name="environment" href="#environment" class="md2man-permalink" title="permalink"></a>ENVIRONMENT</h2><p>See <a class="md2man-reference" href="../man1/tork.1.html">tork(1)</a>.</p><h2 id="see-also"><a name="see-also" href="#see-also" class="md2man-permalink" title="permalink"></a>SEE ALSO</h2><p><a class="md2man-reference" href="../man1/tork.1.html">tork(1)</a>, <a class="md2man-reference" href="../man1/tork-remote.1.html">tork-remote(1)</a>, <a class="md2man-reference" href="../man1/tork-master.1.html">tork-master(1)</a></p></div></body>
</html>
